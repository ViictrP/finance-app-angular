<div class="px-4 mt-10">
  <div>
    <form [formGroup]="form" (submit)="save()">
      <div class="mb-10">
        <p class="text-2xl font-bold mb-2">Cartões</p>
        <app-select
          name="creditCard"
          icon="ph-credit-card-fill"
          placeholder="Selecione um cartão..."
          formControlName="creditCard"
          [options]="creditCards">
        </app-select>
      </div>
      <p class="mb-2 text-xl font-bold">Adicionar transação</p>
      <div class="mb-5">
        <app-input-date
          id="date"
          icon=""
          placeholder="Data do lançamento"
          [invalid]="date?.invalid ?? false"
          formControlName="date">
        </app-input-date>
        <p *ngIf="date?.invalid && date?.touched" id="date-error-message" class="text-red-600">
          Este campo é obrigatório</p>
      </div>
      <div class="mb-5">
        <app-select
          name="color"
          [invalid]="category?.invalid ?? false"
          icon="ph-tag-fill"
          placeholder="Selecione uma categoria..."
          formControlName="category"
          [options]="categoryOptions">
        </app-select>
        <p *ngIf="category?.invalid && category?.touched" id="category-error-message" class="text-red-600">
          Este campo é obrigatório</p>
      </div>
      <div class="mb-5">
        <app-input
          id="description"
          icon="ph-text-t-fill"
          placeholder="Descrição"
          [invalid]="description?.invalid ?? false"
          formControlName="description">
        </app-input>
        <p *ngIf="description?.invalid && description?.touched" id="description-error-message" class="text-red-600">
          Este campo é obrigatório</p>
      </div>
      <div class="mb-5">
        <app-input
          id="amount"
          icon="ph-currency-circle-dollar-fill"
          placeholder="Valor"
          inputType="currency"
          [invalid]="amount?.invalid ?? false"
          formControlName="amount">
        </app-input>
        <p *ngIf="amount?.invalid && amount?.touched" id="amount-error-message" class="text-red-600">
          Este campo é obrigatório</p>
      </div>
      <div class="mb-5">
        <app-input
          inputType="number"
          id="installmentAmount"
          icon="ph-receipt-fill"
          placeholder="Parcelas"
          formControlName="installmentAmount">
        </app-input>
      </div>
      <app-loading-button
        class="w-full"
        [loading]="loading"
        [disabled]="form.invalid || loading"
        loadingLabel="salvando transação..."
        type="submit">
        Salvar
      </app-loading-button>
    </form>
  </div>
</div>
<app-modal #modal [showCloseButton]="false">
  <div class="my-2 m-auto">
    <i class="ph-check-fill text-7xl text-green-500"></i>
<!--    <i *ngIf="error" class="ph-x-fill text-7xl text-red-500"></i>-->
  </div>
  <p class="text-gray-600 dark:text-gray-100 text-xl font-bold py-2 px-6">
    Transação criada com sucesso. <br/>
<!--    ngIf="error" Erro ao criar transação.-->
  </p>
  <div class="flex items-center justify-between gap-4 w-full mt-8">
    <button
      type="button"
      (click)="modal.close()"
      class="py-2 px-4 bg-indigo-600 hover:bg-indigo-700 focus:ring-indigo-500 focus:ring-offset-indigo-200 text-white w-full transition ease-in duration-200 text-center text-base font-semibold focus:outline-none focus:ring-2 focus:ring-offset-2  rounded-lg ">
      fechar
    </button>
  </div>
</app-modal>
